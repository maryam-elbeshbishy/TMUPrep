enrolled = [
    {
        "term": 1,
        "year": 1,
        "schedule": 1,
        "courseId": "CHY103",
        "requirementId": "General Chemistry I"
    },
    {
        "term": 1,
        "year": 1,
        "schedule": 1,
        "courseId": "CPS109",
        "requirementId": "Computer Science I"
    },
    {
        "term": 1,
        "year": 1,
        "schedule": 1,
        "courseId": "CPS213",
        "requirementId": "Computer Organization I"
    },
    {
        "term": 1,
        "year": 1,
        "schedule": 1,
        "courseId": "MTH110",
        "requirementId": "Discrete Mathematics I"
    },
    {
        "term": 2,
        "year": 1,
        "schedule": 2,
        "courseId": "CPS209",
        "requirementId": "Computer Science II"
    },
    {
        "term": 2,
        "year": 1,
        "schedule": 2,
        "courseId": "CPS310",
        "requirementId": "Computer Organization II"
    },
    {
        "term": 2,
        "year": 1,
        "schedule": 2,
        "courseId": "CPS412",
        "requirementId": "Social Issues, Ethics and Professionalism"
    },
    {
        "term": 2,
        "year": 1,
        "schedule": 2,
        "courseId": "ECN210",
        "requirementId": "Understanding Economics (CR)"
    },
    {
        "term": 2,
        "year": 1,
        "schedule": 2,
        "courseId": "MTH207",
        "requirementId": "Calc and Computational Methods I"
    },
    {
        "term": 2,
        "year": 1,
        "schedule": 2,
        "courseId": "PHL214",
        "requirementId": "Critical Thinking I (CR)"
    },
    {
        "term": 3,
        "year": 2,
        "schedule": 3,
        "courseId": "CMN300",
        "requirementId": "Comm in the Computer Industry I"
    },
    {
        "term": 3,
        "year": 2,
        "schedule": 3,
        "courseId": "CPS305",
        "requirementId": "Data Structures I"
    },
    {
        "term": 3,
        "year": 2,
        "schedule": 3,
        "courseId": "CPS393",
        "requirementId": "Introduction to C and UNIX I"
    },
    {
        "term": 3,
        "year": 2,
        "schedule": 3,
        "courseId": "CPS530",
        "requirementId": "Web Systems Development I"
    },
    {
        "term": 3,
        "year": 2,
        "schedule": 3,
        "courseId": "MTH108",
        "requirementId": "Linear Algebra"
    },
    {
        "term": 4,
        "year": 2,
        "schedule": 4,
        "courseId": "CPS406",
        "requirementId": "Introduction to Software Engineering"
    },
    {
        "term": 4,
        "year": 2,
        "schedule": 4,
        "courseId": "CPS420",
        "requirementId": "Discrete Structures"
    },
    {
        "term": 4,
        "year": 2,
        "schedule": 4,
        "courseId": "CPS506",
        "requirementId": "Comparative Programming Languages"
    },
    {
        "term": 4,
        "year": 2,
        "schedule": 4,
        "courseId": "CPS590",
        "requirementId": "Operating Systems"
    },
    {
        "term": 4,
        "year": 2,
        "schedule": 4,
        "courseId": "MTH380",
        "requirementId": "Statistics *"
    },
    {
        "term": 5,
        "year": 3,
        "schedule": 5,
        "courseId": "CPS510",
        "requirementId": "Data Base Systems I"
    },
    {
        "term": 5,
        "year": 3,
        "schedule": 5,
        "courseId": "CPS633",
        "requirementId": "Computer Security"
    },
    {
        "term": 5,
        "year": 3,
        "schedule": 5,
        "courseId": "CPS721",
        "requirementId": "Artificial Intelligence I"
    },
    {
        "term": 5,
        "year": 3,
        "schedule": 5,
        "courseId": "CPS511",
        "requirementId": "Computer Graphics"
    },
    {
        "term": 5,
        "year": 3,
        "schedule": 5,
        "courseId": "GEO793",
        "requirementId": "The Geography of Toronto"
    },
    {
        "term": 6,
        "year": 3,
        "schedule": 6,
        "courseId": "CPS616",
        "requirementId": "Algorithms"
    },
    {
        "term": 6,
        "year": 3,
        "schedule": 6,
        "courseId": "CPS706",
        "requirementId": "Computer Networks"
    },
    {
        "term": 6,
        "year": 3,
        "schedule": 6,
        "courseId": "CPS847",
        "requirementId": "Software Tools for Startups"
    },
    {
        "term": 6,
        "year": 3,
        "schedule": 6,
        "courseId": "CPS613",
        "requirementId": "Human Computer Interactions"
    },
    {
        "term": 6,
        "year": 3,
        "schedule": 6,
        "courseId": "ECN340",
        "requirementId": "Economic of Human Behavior"
    },
    {
        "term": 7,
        "year": 4,
        "schedule": 7,
        "courseId": "CPS803",
        "requirementId": "Machine Learning"
    },
    {
        "term": 7,
        "year": 4,
        "schedule": 7,
        "courseId": "ENT500",
        "requirementId": "New Venture Startup"
    },
    {
        "term": 7,
        "year": 4,
        "schedule": 7,
        "courseId": "ECN503",
        "requirementId": "Economic Development"
    },
    {
        "term": 7,
        "year": 4,
        "schedule": 7,
        "courseId": "CPS714",
        "requirementId": "Software Project Management"
    },
    {
        "term": 7,
        "year": 4,
        "schedule": 7,
        "courseId": "ENT526",
        "requirementId": "Entrepreneurial Behaviour and Strategy"
    },
    {
        "term": 8,
        "year": 4,
        "schedule": 8,
        "courseId": "MTH310",
        "requirementId": "Calculus and Computational Methods II *"
    },
    {
        "term": 8,
        "year": 4,
        "schedule": 8,
        "courseId": "CPS521",
        "requirementId": "Introduction to Data Science"
    },
    {
        "term": 8,
        "year": 4,
        "schedule": 8,
        "courseId": "CPS630",
        "requirementId": "Web Applications | CPS844 - Data Mining"
    },
    {
        "term": 8,
        "year": 4,
        "schedule": 8,
        "courseId": "GCM750",
        "requirementId": "3D Printing (Open Elective)"
    },
    {
        "term": 8,
        "year": 4,
        "schedule": 8,
        "courseId": "ECN509",
        "requirementId": "Economic Issues in Money and Banking (UL)"
    }
]

courses = [
  {
    "term": 1,
    "year": 1,
    "schedule": "656118a736a37f524cae5ed0",
    "courseId": "CHY103",
    "userId": "654d5dca6497e27bd08dec4a"
  },
  {
    "term": 1,
    "year": 1,
    "schedule": "656118a736a37f524cae5ed0",
    "courseId": "CPS109",
    "userId": "654d5dca6497e27bd08dec4a"
  },
  {
    "term": 1,
    "year": 1,
    "schedule": "656118a736a37f524cae5ed0",
    "courseId": "CPS213",
    "userId": "654d5dca6497e27bd08dec4a"
  },
  {
    "term": 1,
    "year": 1,
    "schedule": "656118a736a37f524cae5ed0",
    "courseId": "MTH110",
    "userId": "654d5dca6497e27bd08dec4a"
  },
  {
    "term": 2,
    "year": 1,
    "schedule": "656118a736a37f524cae5ed0",
    "courseId": "CPS209",
    "userId": "654d5dca6497e27bd08dec4a"
  },
  {
    "term": 2,
    "year": 1,
    "schedule": "656118a736a37f524cae5ed0",
    "courseId": "CPS310",
    "userId": "654d5dca6497e27bd08dec4a"
  },
  {
    "term": 2,
    "year": 1,
    "schedule": "656118a736a37f524cae5ed0",
    "courseId": "CPS412",
    "userId": "654d5dca6497e27bd08dec4a"
  },
  {
    "term": 2,
    "year": 1,
    "schedule": "656118a736a37f524cae5ed0",
    "courseId": "ECN210",
    "userId": "654d5dca6497e27bd08dec4a"
  },
  {
    "term": 2,
    "year": 1,
    "schedule": "656118a736a37f524cae5ed0",
    "courseId": "MTH207",
    "userId": "654d5dca6497e27bd08dec4a"
  },
  {
    "term": 2,
    "year": 1,
    "schedule": "656118a736a37f524cae5ed0",
    "courseId": "PHL214",
    "userId": "654d5dca6497e27bd08dec4a"
  },
  {
    "term": 3,
    "year": 2,
    "schedule": "656118a736a37f524cae5ed0",
    "courseId": "CMN300",
    "userId": "654d5dca6497e27bd08dec4a"
  },
  {
    "term": 3,
    "year": 2,
    "schedule": "656118a736a37f524cae5ed0",
    "courseId": "CPS305",
    "userId": "654d5dca6497e27bd08dec4a"
  },
  {
    "term": 3,
    "year": 2,
    "schedule": "656118a736a37f524cae5ed0",
    "courseId": "CPS393",
    "userId": "654d5dca6497e27bd08dec4a"
  },
  {
    "term": 3,
    "year": 2,
    "schedule": "656118a736a37f524cae5ed0",
    "courseId": "CPS530",
    "userId": "654d5dca6497e27bd08dec4a"
  },
  {
    "term": 3,
    "year": 2,
    "schedule": "656118a736a37f524cae5ed0",
    "courseId": "MTH108",
    "userId": "654d5dca6497e27bd08dec4a"
  },
  {
    "term": 4,
    "year": 2,
    "schedule": "656118a736a37f524cae5ed0",
    "courseId": "CPS406",
    "userId": "654d5dca6497e27bd08dec4a"
  },
  {
    "term": 4,
    "year": 2,
    "schedule": "656118a736a37f524cae5ed0",
    "courseId": "CPS420",
    "userId": "654d5dca6497e27bd08dec4a"
  },
  {
    "term": 4,
    "year": 2,
    "schedule": "656118a736a37f524cae5ed0",
    "courseId": "CPS506",
    "userId": "654d5dca6497e27bd08dec4a"
  },
  {
    "term": 4,
    "year": 2,
    "schedule": "656118a736a37f524cae5ed0",
    "courseId": "CPS590",
    "userId": "654d5dca6497e27bd08dec4a"
  },
  {
    "term": 4,
    "year": 2,
    "schedule": "656118a736a37f524cae5ed0",
    "courseId": "MTH380",
    "userId": "654d5dca6497e27bd08dec4a"
  },
  {
    "term": 5,
    "year": 3,
    "schedule": "656118a736a37f524cae5ed0",
    "courseId": "CPS510",
    "userId": "654d5dca6497e27bd08dec4a"
  },
  {
    "term": 5,
    "year": 3,
    "schedule": "656118a736a37f524cae5ed0",
    "courseId": "CPS633",
    "userId": "654d5dca6497e27bd08dec4a"
  },
  {
    "term": 5,
    "year": 3,
    "schedule": "656118a736a37f524cae5ed0",
    "courseId": "CPS721",
    "userId": "654d5dca6497e27bd08dec4a"
  },
  {
    "term": 5,
    "year": 3,
    "schedule": "656118a736a37f524cae5ed0",
    "courseId": "CPS511",
    "userId": "654d5dca6497e27bd08dec4a"
  },
  {
    "term": 5,
    "year": 3,
    "schedule": "656118a736a37f524cae5ed0",
    "courseId": "GEO793",
    "userId": "654d5dca6497e27bd08dec4a"
  },
  {
    "term": 6,
    "year": 3,
    "schedule": "656118a736a37f524cae5ed0",
    "courseId": "CPS616",
    "userId": "654d5dca6497e27bd08dec4a"
  },
  {
    "term": 6,
    "year": 3,
    "schedule": "656118a736a37f524cae5ed0",
    "courseId": "CPS706",
    "userId": "654d5dca6497e27bd08dec4a"
  },
  {
    "term": 6,
    "year": 3,
    "schedule": "656118a736a37f524cae5ed0",
    "courseId": "CPS847",
    "userId": "654d5dca6497e27bd08dec4a"
  },
  {
    "term": 6,
    "year": 3,
    "schedule": "656118a736a37f524cae5ed0",
    "courseId": "CPS613",
    "userId": "654d5dca6497e27bd08dec4a"
  },
  {
    "term": 6,
    "year": 3,
    "schedule": "656118a736a37f524cae5ed0",
    "courseId": "ECN340",
    "userId": "654d5dca6497e27bd08dec4a"
  },
  {
    "term": 7,
    "year": 4,
    "schedule": "656118a736a37f524cae5ed0",
    "courseId": "CPS803",
    "userId": "654d5dca6497e27bd08dec4a"
  },
  {
    "term": 7,
    "year": 4,
    "schedule": "656118a736a37f524cae5ed0",
    "courseId": "ENT500",
    "userId": "654d5dca6497e27bd08dec4a"
  },
  {
    "term": 7,
    "year": 4,
    "schedule": "656118a736a37f524cae5ed0",
    "courseId": "ECN503",
    "userId": "654d5dca6497e27bd08dec4a"
  },
  {
    "term": 7,
    "year": 4,
    "schedule": "656118a736a37f524cae5ed0",
    "courseId": "CPS714",
    "userId": "654d5dca6497e27bd08dec4a"
  },
  {
    "term": 7,
    "year": 4,
    "schedule": "656118a736a37f524cae5ed0",
    "courseId": "ENT526",
    "userId": "654d5dca6497e27bd08dec4a"
  },
  {
    "term": 8,
    "year": 4,
    "schedule": "656118a736a37f524cae5ed0",
    "courseId": "MTH310",
    "userId": "654d5dca6497e27bd08dec4a"
  },
  {
    "term": 8,
    "year": 4,
    "schedule": "656118a736a37f524cae5ed0",
    "courseId": "CPS521",
    "userId": "654d5dca6497e27bd08dec4a"
  },
  {
    "term": 8,
    "year": 4,
    "schedule": "656118a736a37f524cae5ed0",
    "courseId": "CPS630",
    "userId": "654d5dca6497e27bd08dec4a"
  },
  {
    "term": 8,
    "year": 4,
    "schedule": "656118a736a37f524cae5ed0",
    "courseId": "GCM750",
    "userId": "654d5dca6497e27bd08dec4a"
  },
  {
    "term": 8,
    "year": 4,
    "schedule": "656118a736a37f524cae5ed0",
    "courseId": "ECN509",
    "userId": "654d5dca6497e27bd08dec4a"
  }
]

from pymongo import MongoClient, InsertOne
import json
import os
from dotenv import load_dotenv
from bson import ObjectId

load_dotenv('../.env')
CONNECTION_STRING = os.getenv("MONGOURI")

client = MongoClient("mongodb+srv://drice:0i2psWT09d3ZtNMq@projects.hx2wxbo.mongodb.net/tmuprep?authSource=admin&replicaSet=atlas-j2yill-shard-0&readPreference=primary&ssl=true")
db = client.tmuprep
courses_collection = db.courses
enrollments_collection = db.enrollments


# Mapping Course codes to their ObjectIds
# for x in range(len(enrolled)):
#     print(enrolled[x]["courseId"])
#     course = courses_collection.find_one({"courseCode": enrolled[x]["courseId"]})
#     enrolled[x]["courseId"] = course["_id"].__str__()
    
# print(enrolled)

# Mapping Course codes to their ObjectIds
# for x in range(len(courses)):
#     course = courses_collection.find_one({"_id": ObjectId(courses[x]["courseId"])})
#     courses[x]["courseId"] = course["courseCode"]
    
# print(courses)


# Add the enrolled courses to the enrollments collection
for x in range(len(courses)):
    enrollments_collection.insert_one(
        {
            "term": courses[x]["term"], 
            "year": courses[x]["year"], 
            "scheduleID": ObjectId(courses[x]["schedule"]), 
            "courseID": courses[x]["courseId"], 
            "userID": ObjectId(courses[x]["userId"])
        })
    print("Inserted", courses[x]["courseId"])
